# ระบบศาลประวัติศาสตร์ (Historical Court System)

โปรเจกต์นี้คือระบบ Multi-agent ที่สร้างขึ้นโดยใช้ Google Agent Development Kit (ADK) เพื่อจำลองกระบวนการ "พิจารณาคดี" บุคคลหรือเหตุการณ์ในประวัติศาสตร์ โดยมีเป้าหมายเพื่อรวบรวมข้อมูลจากหลายแง่มุม (ทั้งด้านบวกและด้านลบ) และสรุปออกมาเป็นรายงานที่มีความสมดุลและเป็นกลาง

## โครงสร้างของ Agent

ระบบประกอบด้วย Agent หลายตัวที่ทำงานร่วมกันในลำดับชั้นต่างๆ เพื่อให้บรรลุเป้าหมาย โดยมีโครงสร้างดังนี้:

```
judge_greeter (Root Agent)
└── historical_court_system (SequentialAgent)
    ├── trial_loop (LoopAgent)
    │   ├── investigation_team (ParallelAgent)
    │   │   ├── admirer
    │   │   └── critic_researcher
    │   └── judge
    └── verdict_writer
```

### Agent แต่ละตัวมีหน้าที่ดังนี้

#### 1. `judge_greeter` (Root Agent)
- **ประเภท:** `Agent`
- **หน้าที่:** เป็น Agent ตัวแรกสุดที่โต้ตอบกับผู้ใช้
- **การทำงาน:**
  - ทักทายผู้ใช้และอธิบายการทำงานของระบบเป็นภาษาไทย
  - สอบถามหัวข้อ (บุคคลหรือเหตุการณ์ในประวัติศาสตร์) ที่ผู้ใช้ต้องการสืบค้น
  - จัดเก็บหัวข้อที่ได้รับจากผู้ใช้ลงใน State `PROMPT`
  - ส่งต่อการทำงานไปยัง `historical_court_system` เพื่อเริ่มกระบวนการ

#### 2. `historical_court_system`
- **ประเภท:** `SequentialAgent`
- **หน้าที่:** ควบคุมกระบวนการทั้งหมดตามลำดับ
- **การทำงาน:**
  1.  เรียกใช้ `trial_loop` เพื่อรวบรวมและประเมินข้อมูล
  2.  หลังจาก `trial_loop` ทำงานเสร็จสิ้น จะเรียกใช้ `verdict_writer` เพื่อเขียนสรุปผล

#### 3. `trial_loop`
- **ประเภท:** `LoopAgent` (ทำงานซ้ำสูงสุด 3 รอบ)
- **หน้าที่:** วนซ้ำกระบวนการสืบสวนและประเมินผลเพื่อให้ได้ข้อมูลที่สมดุล
- **การทำงาน:**
  1.  เรียกใช้ `investigation_team` เพื่อค้นหาข้อมูลด้านบวกและลบพร้อมกัน
  2.  เรียกใช้ `judge` เพื่อประเมินความสมดุลของข้อมูลที่รวบรวมได้
  3.  หาก `judge` ตัดสินว่าข้อมูลเพียงพอและสมดุลแล้ว Loop จะสิ้นสุดลง

#### 4. `investigation_team`
- **ประเภท:** `ParallelAgent`
- **หน้าที่:** ทีมสืบสวนที่ค้นหาข้อมูลจากสองมุมมองในเวลาเดียวกัน
- **การทำงาน:**
  - เรียกใช้ `admirer` และ `critic_researcher` ให้ทำงานขนานกัน

#### 5. `admirer`
- **ประเภท:** `Agent`
- **หน้าที่:** "ผู้ชื่นชม" ที่ค้นหาข้อมูลด้านบวก
- **การทำงาน:**
  - ใช้เครื่องมือ Wikipedia เพื่อค้นหาความสำเร็จ, ผลกระทบเชิงบวก, และแง่มุมที่ดีของหัวข้อ
  - นำข้อมูลที่ได้ไปเก็บใน State `pos_data`

#### 6. `critic_researcher`
- **ประเภท:** `Agent`
- **หน้าที่:** "นักวิจารณ์" ที่ค้นหาข้อมูลด้านลบ
- **การทำงาน:**
  - ใช้เครื่องมือ Wikipedia เพื่อค้นหาข้อขัดแย้ง, ความล้มเหลว, และผลกระทบเชิงลบของหัวข้อ
  - นำข้อมูลที่ได้ไปเก็บใน State `neg_data`

#### 7. `judge`
- **ประเภท:** `Agent`
- **หน้าที่:** "ผู้พิพากษา" ที่ประเมินความสมดุลของข้อมูล
- **การทำงาน:**
  - ตรวจสอบข้อมูลใน `pos_data` และ `neg_data`
  - หากข้อมูลมีความสมดุลและเพียงพอ จะสั่งให้ `trial_loop` สิ้นสุดการทำงาน
  - หากข้อมูลยังไม่สมดุล Loop จะทำงานในรอบถัดไปเพื่อหาข้อมูลเพิ่มเติม

#### 8. `verdict_writer`
- **ประเภท:** `Agent`
- **หน้าที่:** "ผู้เขียนคำตัดสิน" ที่จัดทำรายงานสรุป
- **การทำงาน:**
  - สรุปข้อมูลจาก `pos_data` และ `neg_data` อย่างเป็นกลาง
  - เขียนรายงานสรุปเป็นภาษาไทย และบันทึกเป็นไฟล์ `.txt` ในไดเรกทอรี `verdicts`